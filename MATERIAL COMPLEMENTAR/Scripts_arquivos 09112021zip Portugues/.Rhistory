install.packages("tidyverse")
library("tidyverse")
library(readxl)
dataset_inicial <- read_excel("(1.2) Dataset Aula Data Wrangling.xls")
View(dataset_inicial)
dataset_merge <- read_excel("(1.3) Dataset Aula Data Wrangling (Join).xls")
View(dataset_inicial) # Mostra a base de dados completa em uma nova aba
head(dataset_inicial, n=5) # Mostra as 5 primeiras observações da base de dados
str(dataset_inicial) # Mostra a estrutura da base de dados
glimpse(dataset_inicial) # Função parecida com a str
print(dataset_inicial) # Apresenta a base de dados no console
dim(dataset_inicial) # As dimensões do dataset: linhas e colunas, respectivamente
names(dataset_inicial) # Para ver os nomes das variáveis
dataset_inicial$`Tempo para chegar à escola (minutos)`
dataset_inicial$`Quantidade de semáforos`
names(dataset_inicial)
novos_nomes <- c("Observações",
"Tempo para chegar",
"Distância percorrida",
"Semáforos",
"Período",
"Perfil")
print(novos_nomes)
names(dataset_inicial) <- novos_nomes
head(dataset_inicial, n=5)
nova_base <- rename(dataset_inicial,
observacoes = Observações,
tempo = "Tempo para chegar",
distancia = "Distância percorrida",
semaforos = "Semáforos",
periodo = "Período",
perfil = "Perfil")
View(nova_base)
nova_base %>% rename(obs = observacoes,
temp = tempo,
dist = distancia,
sem = semaforos,
per = periodo,
perf = perfil)
nova_base_pipe <- nova_base %>% rename(obs = observacoes,
temp = tempo,
dist = distancia,
sem = semaforos,
per = periodo,
perf = perfil)
View(nova_base_pipe)
head(nova_base_pipe, n=5)
rm(nova_base_pipe) # Remove o objeto especificado do ambiente
nova_base %>% rename(obs = 1,
temp = 2,
dist = 3,
sem = 4,
per = 5,
perf = 6)
nova_base %>% rename(sem = 4,
perf = 6)
base_covid <- read.csv("(2.2) WHO COVID-19 Global Table.csv",
header = TRUE,
sep = ",",
dec = ".")
dim(base_covid)
View(base_covid)
names(base_covid)
base_covid <- base_covid %>% rename(nome = 1,
regiao = 2,
casos_total = 3,
casos_relativo = 4,
casos_semana = 5,
casos_semana_relativo = 6,
casos_dia = 7,
mortes_total = 8,
mortes_relativo = 9,
mortes_semana = 10,
mortes_semana_relativo = 11,
mortes_dia = 12,
tipo_transmissao = 13)
View(base_covid)
variavel_nova_1 <- c(1,2,3,4,5,6,7,8,9,10)
variavel_nova_2 <- c(11:20)
print(variavel_nova_1)
print(variavel_nova_2)
View(nova_base)
base_inclui <- mutate(nova_base,
variavel_nova_1,
variavel_nova_2)
View(base_inclui)
View(nova_base)
nova_base %>% rename(obs = observacoes,
temp = tempo,
dist = distancia,
sem = semaforos,
per = periodo,
perf = perfil) %>%
mutate(variavel_nova_1,
variavel_nova_2,
temp_novo = tempo*2)
nova_base %>% rename(obs = observacoes,
temp = tempo,
dist = distancia,
sem = semaforos,
per = periodo,
perf = perfil) %>%
mutate(variavel_nova_1,
variavel_nova_2,
temp_novo = temp*2)
base_texto_1 <- mutate(nova_base,
semaforos = replace(semaforos, semaforos==0, "Zero"),
semaforos = replace(semaforos, semaforos==1, "Um"),
semaforos = replace(semaforos, semaforos==2, "Dois"),
semaforos = replace(semaforos, semaforos==3, "Três"))
View(base_texto_1)
head(base_texto_1)
View(nova_base)
base_texto_2 <- mutate(nova_base,
perfil_novo = recode(perfil,
"calmo"="perfil 1",
"moderado"="perfil 2",
"agressivo"="perfil 3"))
head(base_texto_2)
# Vamos utizar o "recode" para transformar um texto em valores:
#
base_texto_valores <- mutate(nova_base,
periodo = recode(periodo,
"Manhã"=0,
"Tarde"=1))
head(base_texto_valores)
base_dummy <- mutate(nova_base, perfil_agressivo = recode(perfil,
"agressivo"=1,
"moderado"=0,
"calmo"=0),
perfil_moderado = recode(perfil,
"agressivo"=0,
"moderado"=1,
"calmo"=0),
perfil_calmo = recode(perfil,
"agressivo"=0,
"moderado"=0,
"calmo"=1))
View(base_dummy)
View(base_covid)
table(base_covid$tipo_transmissao)
unique(base_covid$tipo_transmissao)
base_covid <- base_covid[-c(1),] # excluída pelo número de sua linha
base_covid <- base_covid[!(base_covid$nome=="Other"),] # excluída por seu nome
base_covid <- base_covid %>% mutate(tipo_transmissao = recode(tipo_transmissao,
"Clusters of cases" = "Casos Concentrados",
"Community transmission" = "Transmissão Comunitária",
"No cases" = "Sem Casos",
"Not applicable" = "Não Aplicável",
"Pending" = "Pendente",
"Sporadic cases" = "Casos Esporádicos")) %>%
mutate(grupos = cut(casos_relativo,
c(-Inf, quantile(base_covid$casos_relativo,
type = 5,
probs = c(0.25, 0.50, 0.75),
TRUE),Inf),
c("primeiro quartil",
"segundo quartil",
"terceiro quartil",
"quarto quartil")))
o
table(base_covid$grupos)
base_exclui <- transmute(nova_base,
observacoes, tempo,
variavel_nova_1, variavel_nova_2)
View(base_exclui)
base_exclui_rename <- nova_base %>% transmute(observacoes, tempo,
variavel_nova_1) %>%
mutate(tempo_novo = recode(tempo,
"10"="dez",
"15"="quinze",
"20"="vinte",
"25"="vinte e cinco",
"30"="trinta",
"35"="trinta e cinco",
"40"="quarenta",
"50"="cinquenta",
"55"="cinquenta e cinco")) %>%
mutate(posicao = cut(tempo,
c(0, median(tempo), Inf),
c("menores",
"maiores")))
median(nova_base$tempo)
selecao_1 <- nova_base[,c("observacoes","tempo")] # critérios após a vírgula
selecao_2 <- nova_base[,1:3] # selecionando pela posição das colunas de 1 a 3
View(selecao_2)
extrai_parte_1 <- nova_base[3:7, c("observacoes", "perfil")]
View(extrai_parte_1)
extrai_parte_2 <- nova_base[3:7, 1:2]
View(extrai_parte_2)
base_select_1 <- select(nova_base, observacoes, tempo) # especificando
base_select_2 <- select(nova_base,  everything(), -perfil) # todas menos uma
base_select_3 <- select(nova_base, observacoes:distancia) # de uma a outra
base_select_4 <- select(nova_base, starts_with("p")) # para algum prefixo comum
nova_base %>% select(observacoes, perfil, everything())
View(nova_base)
nova_base %>% relocate(perfil, .after = observacoes)
nova_base %>% relocate(perfil, .before = tempo)
nova_base %>% select(tempo, semaforos, perfil, observacoes)
vetor_pull <- nova_base %>% pull(var = 3)
vetor_pull
print(vetor_pull)
base_covid <- base_covid %>% select(nome,
regiao,
grupos,
everything(),
-mortes_dia)
jogos <- read.csv("(5.2) Champions League 2020-2021.csv")
View(jogos)
glimpse(jogos)
View(jogos)
library(tidyverse)
jogos <- jogos %>% mutate(time_vencedor = case_when(
c(jogos$team_home_score-jogos$team_away_score)==0 ~ "empate",
c(jogos$team_home_score-jogos$team_away_score)>0 ~ "mandante",
c(jogos$team_home_score-jogos$team_away_score)<0 ~ "visitante")) %>%
relocate(time_vencedor, .after = team_away_score)
View(jogos)
table(jogos$time_vencedor)
select(jogos$time_vencedor)
table(jogos$time_vencedor)
